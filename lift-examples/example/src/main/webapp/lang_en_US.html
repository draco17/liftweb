<lift:surround with="default" at="content">
  <lift:snippet type="misc:lang" form="post">
    <h1>Howdy Partner</h1>
    <span>My language: <showLoc:lang/></span>
    
    <div>
      Set locale <showLoc:select/> <input type="submit" value="Change"/>
    </div>
  </lift:snippet>


  <br/>
  <h3>
    The Lift code to select and set the Locale:
  </h3>
    <style type="text/css">
    /* <![CDATA[ */
      .function-name {
        /* font-lock-function-name-face */
        color: #0000ff;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #a020f0;
      }
      .string {
        /* font-lock-string-face */
        color: #bc8f8f;
      }
      .type {
        /* font-lock-type-face */
        color: #228b22;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #b8860b;
      }
      /* ]]> */
    </style>

    <pre>
  <span class="keyword">def</span> <span class="function-name">lang</span>(<span class="variable-name">xhtml</span>: <span class="type">Group</span>): <span class="type">NodeSeq </span>= 
  bind(<span class="string">"showLoc"</span>, xhtml,
       <span class="string">"lang"</span> -&gt; locale.getDisplayLanguage(locale),
       <span class="string">"select"</span> -&gt; selectObj(locales.map(lo =&gt; (lo, lo.getDisplayName)),
                             definedLocale, setLocale))

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="function-name">locales</span> =
  Locale.getAvailableLocales.toList.sort(_.getDisplayName &lt; _.getDisplayName)

  <span class="keyword">private</span> <span class="keyword">def</span> <span class="function-name">setLocale</span>(<span class="variable-name">loc</span>: <span class="type">Locale</span>) = definedLocale(Full(loc))
</pre>


</lift:surround>
